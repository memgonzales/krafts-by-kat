{{>navbar userFlag = userFlag adminFlag = adminFlag}}

<div class="container-fluid d-flex justify-content-center align-items-center flex-column p-5 mt-2">

    <div class = "d-flex justify-content-center mt-1 mb-5" id = "product-focused">

        <div class = "col-md-4 py-4 d-flex justify-content-center align-items-center flex-column bgc1 " id = "product-images">
            
            <div class = " bgc5 d-flex justify-content-center align-items-center mt-2" id = "focused-img">
                <i class = "far fa-images fa-7x fc3" id = "icon-big"></i>
                <img id = "pic-big">
            </div>

            <div class = "container d-flex mt-3 flex-row center-content" id = "small-view-pic-container">


                <div class = "container mx-1 bgc5 d-flex justify-content-center align-items-center fixed-pic p-1" id="img1">
                    <i class = "far fa-images fa-2x mx-1 fc3" id = "icon1"></i>
                    <img id = "pic1" class = "small-view-pic"> 
                </div>
                <div class = "container mx-1 bgc5 d-flex justify-content-center align-items-center fixed-pic p-1" id="img2">
                    <i class = "far fa-images fa-2x mx-1 fc3" id = "icon2"></i>
                    <img id = "pic2" class = "small-view-pic">
                </div>
                <div class = "container mx-1 bgc5 d-flex justify-content-center align-items-center fixed-pic p-1" id="img3">
                    <i class = "far fa-images fa-2x mx-1 fc3" id = "icon3"></i>
                    <img id = "pic3" class = "small-view-pic"> 
                </div>
                <div class = "container mx-1 bgc5 d-flex justify-content-center align-items-center fixed-pic p-1" id="img4">
                    <i class = "far fa-images fa-2x mx-1 fc3" id = "icon4"></i>
                    <img id = "pic4" class = "small-view-pic">
                </div>
                <div class = "container mx-1 bgc5 d-flex justify-content-center align-items-center fixed-pic p-1" id="img5">
                    <i class = "far fa-images fa-2x mx-1 fc3" id = "icon5"></i>
                    <img id = "pic5" class = "small-view-pic">
                </div>


            </div>



        </div>

        <div class = "col-md-8 d-flex flex-column bgc3 p-5 f1" id="product-details">

            <div >
                <h3 class = "d-inline-block text-truncate bold" style = "max-width: 600px;">
                        {{name}}
                </h3>
            </div>

            <div class = "bold d-flex flex-column">


                <div>
                        <span class = "me-2">
                    <span class = "product-rating"> {{aveRating}}</span>
                    <i class = "fas fa-star ms-1"></i>
                </span>

                <span class = "mx-2">|</span>
                <span class = "mx-2"><span id="rating-count">{{numRatings}}</span> Ratings</span>

                <span class = "mx-2">|</span>

                <span class = "mx-2">
                    <span id="units-sold">{{numberSold}}</span> Sold
                </span>

                <span class = "mx-2">|</span>

                <span class = "mx-2">
                    <span id="units-available">{{quantity}}</span> Units Available
                </span>
                </div>
                
                <div class = "hidden" id = "is-admin">
                    {{adminFlag}}
                </div>

                <div class="mt-3" id = "add-to-order">
                    <form method = "POST" id = "add-to-order-form">
                        <input type = "hidden" value = {{id}} id = "order-product-id" name = "orderProductId">
                        <button class="btn bgc1" type = "submit" id = "add-to-order"><i class="fas fa-cart-plus"> <span class="f1">Add to Order</span></i></button>
                   
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#choose-order">
                            button trigger for choose order modal
                        </button>

                    </form>
                </div>

            </div>

            <div class="container mt-4 bgc4 p-2 price-details d-flex flex-column">
                <h3 id="product-price">â‚±{{price}}</h3>

                
            </div>

            <div class="container bgc4 mt-4 price-details p-3" id="price-desc-container">
                <h5 >Description</h5>
                <div class="dropdown-divider"></div>
                <div class="container">{{description}}</div>

            </div>

        </div>

    </div>

    <div class="bgc3 p-4 f1 d-flex flex-column" id="product-reviews-card">
        <h4 class="bold align-self-start">Reviews</h4>
        <div class="d-flex flex-row">
            
            <a class="btn btn-anchor d-flex justify-content-center align-items-center flex-column bgc4 px-3 pt-3 pb-2" id="show-5star">
                <div class="d-flex flex-row"> 
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                </div>
               
                <span>[<span>23</span>]</span>
           
            </a>

            <a class="btn btn-anchor d-flex justify-content-center align-items-center flex-column px-3 pt-3 pb-2" id="show-4star">
                <div class="d-flex flex-row"> 
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                </div>
               
                <span>[<span>12</span>]</span>
            </a>

            <a class="btn btn-anchor d-flex justify-content-center align-items-center flex-column px-3 pt-3 pb-2" id="show-3star">
                <div class="d-flex flex-row"> 
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                </div>
               
                <span>[<span>10</span>]</span>
            </a>

            <a class="btn btn-anchor d-flex justify-content-center align-items-center flex-column px-3 pt-3 pb-2" id="show-2star">
                <div class="d-flex flex-row"> 
                    <i class="fas fa-star fa-sm"></i>
                    <i class="fas fa-star fa-sm"></i>
                </div>
                <span>[<span>3</span>]</span>
            </a>

            <a class="btn btn-anchor d-flex justify-content-center align-items-center flex-column px-3 pt-3 pb-2 " id="show-1star">
                <div class="d-flex flex-row"> 
                    <i class="fas fa-star fa-sm"></i>
                
                </div>
               
                <span>[<span>0</span>]</span>
           
            </a>
            
            
            
            
        </div>
        

        
    
        <div class="dropdown-divider col-md-12"></div>

        <div class="container px-3 pt-3" id="reviews-container">
            {{>one-review}}

        </div>

        
{{!--         
        {{#each one-review}}

        {{else}}
            <h6 class="bold align-self-center my-4">There hasn't been any reviews for this product. You could be the first!</h6>
        {{/each}} --}}
    </div>

</div>


<!-- Modal -->
<div class="modal fade" id="choose-order" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog d-flex justify-content-center">
    <div class="modal-content bgc3">
      <div class="modal-header">
        <h5 class="modal-title">Choose an Order</h5>
      </div>
      <div class="modal-body">
        
        <div class="container bgc4 p-2 mb-2 br10 " id="one-order">
            <button type="button" class="btn " id="new-order">
                <i class="fas fa-plus-square"></i>
                <h7 class="bold ms-2 new-order">New Order</h7>
            </button>
        </div>

        {{!-- Only orders na di pa nabobook otherwise dapat wala sila sa list na ito --}}
        <div class="pe-2 mt-2 br10" id="modal-order-list">
            {{>order}}
            {{>order}}
            {{>order}}
            {{>order}}
            {{>order}}
            {{>order}}
            {{>order}}

        </div>
       
   
      </div>
    </div>
  </div>
</div>

<div class = "hidden" id = "picturePaths">{{pictures}}</div>

<script src = "/js/view-product.js"></script>